<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>权限列表</title>
    <script src="../../common/vue/vue.js"></script>
    <script src="../../common/axios/axios.min.js"></script>
    <script src="../../common/jquery/jquery-3.0.0.min.js"></script>
    <link rel="stylesheet" href="../../common/element/index.css">
    <script src="../../common/element/index.js"></script>
    <style type="text/css">
        [v-cloak] {
            display: none;
        }
    </style>
</head>
<body>
    <template>
        <div v-cloak>
            <!--@row-click="clickRow"-->
            <el-table ref="permissionTable"
                      :data="permissionData"
                      style="width: 100%"
                      height="770"
                      @selection-change="getSelected">
                <el-table-column type="selection">
                </el-table-column>
                <el-table-column type="index"
                                 label="序号"
                                 :index="indexMethod">
                </el-table-column>
                <el-table-column prop="account"
                                 label="账号"
                                 width="100px">
                </el-table-column>
                <el-table-column prop="nickName"
                                 label="昵称"
                                 width="100px">
                </el-table-column>
                <el-table-column prop="name"
                                 label="名字">
                </el-table-column>
                <el-table-column fixed="right"
                                 label="操作"
                                 width="200">
                    <template slot-scope="scope">
                        <el-button @click="openEdit('query',scope.row)" type="primary" icon="el-icon-search" size="small"></el-button>
                        <el-button @click="openEdit('update',scope.row)" type="warning" icon="el-icon-edit" size="small" v-if="buttonVisible.update"></el-button>
                        <el-button @click="openEdit('delete',scope.row)" type="danger" icon="el-icon-delete" size="small" v-if="buttonVisible.delete"></el-button>
                    </template>
                </el-table-column>
            </el-table>
        </div>
        <div>
            <el-pagination @size-change="handleSizeChange"
                           @current-change="handleCurrentChange"
                           :current-page="queryReq.currentPage"
                           :page-sizes="pageSizes"
                           :page-size="queryReq.pageSize" layout="total, sizes, prev, pager, next, jumper"
                           :total="totalCount">
            </el-pagination>
        </div>
        <!--用户基础信息编辑页面-->
        <div>
            <el-dialog :title="form.formTitle"
                       :visible.sync="formVisible"
                       :center="true"
                       width="50%">
                <el-form :model="form">
                    <el-form-item label="账号" :label-width="formLabelWidth">
                        <el-input v-model="form.account" autocomplete="off" :disabled="formDisabled"></el-input>
                    </el-form-item>
                    <el-form-item label="昵称" :label-width="formLabelWidth">
                        <el-input v-model="form.nickName" autocomplete="off" :disabled="formDisabled"></el-input>
                    </el-form-item>
                    <el-form-item label="姓名" :label-width="formLabelWidth">
                        <el-input v-model="form.name" autocomplete="off" :disabled="formDisabled"></el-input>
                    </el-form-item>
                </el-form>
                <div slot="footer" class="dialog-footer">
                    <el-button type="primary" size="small" @click="save">确 定</el-button>
                    <el-button size="small" @click="formVisible = false">取 消</el-button>
                </div>
            </el-dialog>
        </div>
    </template>
</body>
</html>